@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: dark; }
html, body { height: 100%; }
body { @apply bg-bg text-text font-sans; }

.neon-grad { background-image: linear-gradient(135deg, theme(colors.primary), theme(colors.accent)); }
.glass      { @apply bg-card border border-line backdrop-blur; }
.link       { @apply text-accent hover:opacity-90 transition; }
.btn        { @apply inline-flex items-center justify-center rounded-xl px-4 py-2 font-semibold transition; }
.btn-primary{ @apply btn text-black; background: theme(colors.primary); box-shadow: theme(boxShadow.glow); }
.btn-ghost  { @apply btn bg-white/10 border border-line text-white hover:bg-white/15; }
.card       { @apply glass rounded-2xl; }
.container  { @apply max-w-6xl mx-auto px-4; }

.magnetic {
  position: relative;
  transform-style: preserve-3d;
  transition: transform .15s ease;
}
.magnetic:hover { transform: translateZ(6px); }
.magnetic:active { transform: translateZ(2px) scale(.99); }

/* Always reserve gutter and keep scroll on to prevent width shifts */
html { scrollbar-gutter: stable both-edges; height: 100%; }
body { overflow-y: scroll; min-height: 100%; }

/* Prevent browser from auto-anchoring scroll between route swaps */
html { overflow-anchor: none; }

/* Never use 100vw for layout wrappers (causes extra width on Windows) */
.w-screen, [style*="100vw"] { max-width: 100%; }

section {
  animation: heroFade 1.2s ease-in-out both;
}

@keyframes heroFade {
  from {
    opacity: 0;
    transform: scale(1.02);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
/* Make sure the root can stack above our global bg */
app-root {
  position: relative;
  z-index: 1;
}

/* Site-wide neon image background behind everything */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;                 /* sits under app-root (z:1), above body bg */
  pointer-events: none;

  /* Stack: vignettes + subtle stripes + your image */
  background:
    radial-gradient(1200px 700px at 85% 8%, rgba(34,211,238,.12), transparent 55%),
    radial-gradient(1000px 650px at 15% 0%, rgba(163,230,53,.10), transparent 50%),
    linear-gradient(180deg, rgba(0,0,0,.40), rgba(0,0,0,.80) 70%),
    repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 34px),
    url("/assets/images/hero-bg.png");

  background-repeat: no-repeat, no-repeat, no-repeat, repeat, no-repeat;
  background-position: center top, center top, center top, center top, center top;
  background-size: cover, cover, cover, auto, cover;

  filter: saturate(1.1) brightness(.92);
  opacity: .35;               /* tweak intensity */
}

/* Optional: tiny drift/parallax of the image on large screens */
@media (min-width: 1024px) and (prefers-reduced-motion: no-preference) {
  body::before {
    will-change: background-position;
    animation: bgFloat 24s ease-in-out infinite alternate;
  }
  @keyframes bgFloat {
    from { background-position:
      center top, center top, center top, center top, 50% 0%;
    }
    to   { background-position:
      center top, center top, center top, center top, 50% 8%;
    }
  }
}
